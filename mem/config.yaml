# Mem Configuration Example

database:
  path: /data/db/mem.duckdb

sttd:
  model: base
  device: cuda
  compute_type: float16
  profiles_path: /data/db/voice_profiles
  enable_diarization: true
  speaker_identification: true
  min_speaker_confidence: 0.7

capture:
  frame:
    interval_seconds: 5
    jpeg_quality: 85
    enable_deduplication: true
    similarity_threshold: 100.0
  audio:
    chunk_duration_seconds: 300
    sample_rate: 16000

whisper:
  model: base
  language: auto
  fallback_language: en
  device: cuda  # cuda for GPU, cpu for CPU-only
  compute_type: float16  # float16 for GPU, int8 for CPU (faster-whisper specific)
  # Transcription quality settings
  no_speech_threshold: 0.6
  logprob_threshold: -1.0
  detect_non_speech: true

files:
  filename_format: YYYY-MM-DD_HH-MM-SS
  filename_regex: ^(\d{4})-(\d{2})-(\d{2})_(\d{2})-(\d{2})-(\d{2})$

api:
  host: 0.0.0.0
  port: 8000
  max_upload_size: 5368709120  # 5GB
  default_time_range_days: 1

streaming:
  rtmp:
    enabled: true
    port: 1935
    max_concurrent_streams: 10
  capture:
    frame_interval_seconds: 1  # More frequent for live streams
    buffer_size: 30  # seconds of buffer
    max_frame_width: 7680  # 8K max (safety limit)
    max_frame_height: 4320  # 8K max (safety limit)
  auth:
    require_stream_key: true

logging:
  level: INFO
  debug_level: DEBUG
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"